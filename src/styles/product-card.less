.product(@color) {
   --product-bg: ~"var(--surface-@{color}-contrast)";
   --product-border: ~"var(--surface-@{color}-contrast)";
   --product-color: ~"var(--text-primary-on-surface-@{color}-contrast)";
   --product-shadow: ~"var(--surface-@{color}-subtle)";

   &:hover {
      --product-bg: ~"var(--surface-@{color}-moderate)";
      --product-border: ~"var(--surface-@{color}-contrast)";
      --product-color: ~"var(--text-primary-on-surface-@{color}-moderate)";
   }
}

product {
   padding: 2em;
   border-radius: var(--radius-strong);
   background-color: var(--product-bg);
   color: var(--product-color);
   border: 2px solid var(--product-border);
   background-image: var(--bgUrl);
   position: relative;
   display: grid;
   grid-template-rows: subgrid;
   grid-template-columns: subgrid;
   grid-row: span 2;

   background-repeat: no-repeat;
   background-position: 90% 90%;
   background-size: 33%;
   background-blend-mode: soft-light;
   box-shadow: 0 8px 16px -2px var(--product-shadow), 0 2px 4px -1px var(--product-shadow);
   transition: var(--transition);

   &:nth-child(1) {
      .product("navy");
   }

   &:nth-child(2) {
      .product("blue");
   }

   &:nth-child(3) {
      .product("aqua");
   }

   &:nth-child(4) {
      .product("teal");
   }

   &:hover {

      //background-size: 30%;

      a[href] {
         text-decoration: underline;
         text-decoration-thickness: 2px;
      }
   }


   h3 {
      margin-block: 0;
      grid-row-start: 1;
      color: inherit;
      font-size: var(--font-size-xxl);
      text-wrap: balance;
      max-inline-size: 5ch;
   }


   a[href] {
      color: inherit;
      text-decoration: none;
   }

   >a {
      //position: absolute;
      grid-row: ~"1 / -1";
      grid-column: ~"1 / -1";
   }

   p {
      line-height: 1.5;
      letter-spacing: 0.04ch;
      margin-block: 0;
      max-inline-size: 45ch;
   }
}